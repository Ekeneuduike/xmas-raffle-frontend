<body ng-controller="raffleController">
  <div class="body">
    <!-- Snowflake Animation -->
    <div class="snowflake" style="left: 10%"></div>
    <div class="snowflake" style="left: 20%"></div>
    <div class="snowflake" style="left: 30%"></div>
    <div class="snowflake" style="left: 40%"></div>
    <div class="snowflake" style="left: 50%"></div>
    <div class="snowflake" style="left: 60%"></div>
    <div class="snowflake" style="left: 70%"></div>
    <div class="snowflake" style="left: 80%"></div>

    <header>
      <h1>ğŸ„ Christmas Blockchain Raffle ğŸ</h1>
      @if(!connected_user){
      <button id="connectWallet" (click)="connectWallet()">
        Connect Wallet
      </button>
      } 
      @if(connected_user){
        <div class="winner">
          {{ connected_user | shortenAddress}}
        </div>
      }
    </header>
    <main>
      <div class="raffle-intro">
        <p>
          Join the most exciting Christmas raffle powered by blockchain! ğŸ… Just
          connect your wallet, enter with $1, and stand a chance to win big. The
          winner is declared every hour, and 20% of the pool goes to the
          contract for sustainability.
        </p>
        <button id="enterRaffle" (click)="enterRaffle()">Enter Raffle</button>
        <div class="timer">
          Time left: {{ hours }}:{{ minutes }}:{{ seconds }}
        </div>
        <div class="winner" ng-if="lastWinner">
          Last Winner: {{ lastWinner.winner | shortenAddress}} | Prize: {{ lastWinner.amount }} ETH
        </div>
      </div>
      <div class="cards-container">
        <div class="card">
          <h3>Step 1: Enter</h3>
          <p>Join the raffle by contributing just $1 through your wallet.</p>
        </div>
        <div class="card">
          <h3>Step 2: Wait</h3>
          <p>
            Each round lasts about one hour. Relax while the blockchain
            processes entries.
          </p>
        </div>
        <div class="card">
          <h3>Step 3: Win!</h3>
          <p>
            The winner is announced and takes the prize, while 20% is retained
            by the contract.
          </p>
        </div>
      </div>
    </main>
  </div>

  <footer>
    <p>Made with â¤ï¸ and ğŸ… for the Holidays!</p>
  </footer>
</body>
